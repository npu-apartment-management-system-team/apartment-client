import{s as m,N as B,F as N,g as x,R as C,e as D,B as F}from"./vant-51b1534e.js";import{u as R}from"./vue-router-05758286.js";import{a as M}from"./index-7df2a9ec.js";import{u as T}from"./index-e822aa76.js";import{s as V}from"./pinia-f48910fc.js";import{_ as $}from"./index-a4fae6cb.js";import{b as h,c as S,R as U,V as q,C as e,u as E,U as t,K as o,X as r,W as G}from"./@vue-802b571a.js";import"./@vant-176bc72f.js";import"./index-bdafc09e.js";import"./axios-4a70c6fc.js";import"./js-cookie-edb2da2a.js";import"./@vueuse-94ed6524.js";import"./pinia-plugin-persistedstate-c44f3b64.js";const I={class:"my-dorm-form"},K={class:"map-btn"},P={__name:"MyDormitory",setup(W){const f=T(),{currentUser:d}=V(f),a=h({apartment:{},room:{},bed:{},department:{}}),v=async()=>{try{const l=await M();l!==null&&l.code===2e3?a.value=l.result:l!==null?m({type:"danger",message:`获取信息失败,${l.msg}`}):m({type:"danger",message:"获取信息失败,请检查网络"})}catch{m({type:"danger",message:"获取信息失败,请检查网络"})}},i=R(),y=()=>d.value.payType===0?a.value.room.selfPayFee:a.value.room.totalFee,g=()=>d.value.networkEnabled===0?0:50;S(async()=>{await v()});const L=async()=>{await i.push({name:"preview-map",query:{departureLng:a.value.apartment.positionLongitude,departureLat:a.value.apartment.positionLatitude,arriveLng:a.value.department.positionLongitude,arriveLat:a.value.department.positionLatitude}})},b=async()=>{await i.push({name:"preview-map",query:{departureLng:a.value.department.positionLongitude,departureLat:a.value.department.positionLatitude,arriveLng:a.value.apartment.positionLongitude,arriveLat:a.value.apartment.positionLatitude}})};return(l,s)=>{const w=B,u=x,n=C,p=D,_=F,k=N;return U(),q("div",I,[e(w,{title:"我的住宿信息","left-text":"返回","left-arrow":"",onClickLeft:s[0]||(s[0]=c=>E(i).go(-1))}),e(k,{style:{"margin-top":"5%"}},{default:t(()=>[e(p,{inset:""},{default:t(()=>[e(u,null,{default:t(()=>[o(" 我的公寓 ")]),_:1}),e(u,null,{default:t(()=>[e(n,null,{default:t(()=>[o(" 公寓名称: "+r(a.value.apartment.name),1)]),_:1}),e(n,null,{default:t(()=>[o(" 公寓地点: "+r(a.value.apartment.position),1)]),_:1})]),_:1})]),_:1}),e(p,{inset:""},{default:t(()=>[e(u,null,{default:t(()=>[o(" 我的房间 ")]),_:1}),e(u,null,{default:t(()=>[e(n,null,{default:t(()=>[o(" 房间名称: "+r(a.value.room.name),1)]),_:1}),e(n,null,{default:t(()=>[o(" 每月总费用: "+r(a.value.room.totalFee),1)]),_:1}),e(n,null,{default:t(()=>[o(" 您的房费: "+r(y()),1)]),_:1}),e(n,null,{default:t(()=>[o(" 您的网费: "+r(g()),1)]),_:1})]),_:1})]),_:1}),e(p,{inset:""},{default:t(()=>[e(u,null,{default:t(()=>[o(" 我的床位 ")]),_:1}),e(u,null,{default:t(()=>[e(n,null,{default:t(()=>[o(" 床位名称: "+r(a.value.bed.name),1)]),_:1}),e(n,null,{default:t(()=>[o(" 押金序列号: "+r(a.value.bed.receiptId),1)]),_:1})]),_:1})]),_:1}),G("div",K,[e(_,{plain:"",block:"",type:"primary",onClick:s[1]||(s[1]=c=>L())},{default:t(()=>[o(" 查看上班驾车导航 ")]),_:1}),e(_,{plain:"",block:"",type:"primary",onClick:s[2]||(s[2]=c=>b())},{default:t(()=>[o(" 查看下班驾车导航 ")]),_:1})])]),_:1})])}}},oe=$(P,[["__scopeId","data-v-bb7f4699"]]);export{oe as default};
