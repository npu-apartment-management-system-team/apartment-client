import{r as E,o as C,a as P,i as R,w as T,b as f,c as k,u as m,d as O,e as _,p as M,n as S,f as V,g as N,h as A}from"./@vue-b391e2c0.js";var v=typeof window<"u";function x(n){return v?requestAnimationFrame(n):-1}function U(n){x(()=>x(n))}var D=n=>n===window,y=(n,e)=>({top:0,left:0,right:n,bottom:e,width:n,height:e}),q=n=>{const e=m(n);if(D(e)){const t=e.innerWidth,i=e.innerHeight;return y(t,i)}return e?.getBoundingClientRect?e.getBoundingClientRect():y(0,0)};function J(n){const e=O(n,null);if(e){const t=N(),{link:i,unlink:r,internalChildren:o}=e;i(t),C(()=>r(t));const s=_(()=>o.indexOf(t));return{parent:e,index:s}}return{parent:null,index:f(-1)}}function I(n){const e=[],t=i=>{Array.isArray(i)&&i.forEach(r=>{var o;A(r)&&(e.push(r),(o=r.component)!=null&&o.subTree&&(e.push(r.component.subTree),t(r.component.subTree.children)),r.children&&t(r.children))})};return t(n),e}var b=(n,e)=>{const t=n.indexOf(e);return t===-1?n.findIndex(i=>e.key!==void 0&&e.key!==null&&i.type===e.type&&i.key===e.key):t};function W(n,e,t){const i=I(n.subTree.children);t.sort((o,s)=>b(i,o.vnode)-b(i,s.vnode));const r=t.map(o=>o.proxy);e.sort((o,s)=>{const u=r.indexOf(o),a=r.indexOf(s);return u-a})}function K(n){const e=E([]),t=E([]),i=N();return{children:e,linkChildren:o=>{M(n,Object.assign({link:a=>{a.proxy&&(t.push(a),e.push(a.proxy),W(i,e,t))},unlink:a=>{const d=t.indexOf(a);e.splice(d,1),t.splice(d,1)},children:e,internalChildren:t},o))}}}function B(n){let e;k(()=>{n(),S(()=>{e=!0})}),V(()=>{e&&n()})}function G(n,e,t={}){if(!v)return;const{target:i=window,passive:r=!1,capture:o=!1}=t;let s=!1,u;const a=c=>{if(s)return;const l=m(c);l&&!u&&(l.addEventListener(n,e,{capture:o,passive:r}),u=!0)},d=c=>{if(s)return;const l=m(c);l&&u&&(l.removeEventListener(n,e,o),u=!1)};C(()=>d(i)),P(()=>d(i)),B(()=>a(i));let w;return R(i)&&(w=T(i,(c,l)=>{d(l),a(c)})),()=>{w?.(),d(i),s=!0}}var p,g;function Q(){if(!p&&(p=f(0),g=f(0),v)){const n=()=>{p.value=window.innerWidth,g.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:p,height:g}}var Y=/scroll|auto|overlay/i,L=v?window:void 0;function F(n){return n.tagName!=="HTML"&&n.tagName!=="BODY"&&n.nodeType===1}function H(n,e=L){let t=n;for(;t&&t!==e&&F(t);){const{overflowY:i}=window.getComputedStyle(t);if(Y.test(i))return t;t=t.parentNode}return e}function X(n,e=L){const t=f();return k(()=>{n.value&&(t.value=H(n.value,e))}),t}var h;function Z(){if(!h&&(h=f("visible"),v)){const n=()=>{h.value=document.hidden?"hidden":"visible"};n(),window.addEventListener("visibilitychange",n)}return h}var j=Symbol("van-field");function $(n){const e=O(j,null);e&&!e.customValue.value&&(e.customValue.value=n,T(n,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}export{j as C,q as a,K as b,J as c,G as d,Z as e,U as f,H as g,$ as h,X as i,B as o,x as r,Q as u};
