import{s as d,N as T,F as C,g as x,R as D,e as F,B as q}from"./vant-60b60113.js";import{u as R}from"./vue-router-05758286.js";import{a as h}from"./index-9be10dae.js";import{u as M}from"./index-e822aa76.js";import{s as V}from"./pinia-f48910fc.js";import{_ as $}from"./index-995aa90f.js";import{b as S,c as U,R as E,V as G,C as e,u as I,U as t,K as o,X as r,W as P}from"./@vue-802b571a.js";import"./@vant-176bc72f.js";import"./index-42dc619c.js";import"./axios-4a70c6fc.js";import"./js-cookie-edb2da2a.js";import"./@vueuse-94ed6524.js";import"./pinia-plugin-persistedstate-c44f3b64.js";const A={class:"my-dorm-form"},K={class:"map-btn"},W={__name:"MyDormitory",setup(X){const f=M(),{currentUser:_}=V(f),a=S({apartment:{},room:{},bed:{},department:{}}),y=async()=>{try{const l=await h();l!==null&&l.code===2e3?a.value=l.result:l!==null?d({type:"danger",message:`获取信息失败,${l.msg}`}):d({type:"danger",message:"获取信息失败,请检查网络"})}catch{d({type:"danger",message:"获取信息失败,请检查网络"})}},p=R(),g=()=>_.value.payType===0?a.value.room.selfPayFee:a.value.room.totalFee,L=()=>_.value.networkEnabled===0?0:50;U(async()=>{await y()});let u="route";const w=async()=>{u="route",await p.push({name:"preview-map",query:{departureLng:a.value.apartment.positionLongitude,departureLat:a.value.apartment.positionLatitude,arriveLng:a.value.department.positionLongitude,arriveLat:a.value.department.positionLatitude,queryType:u}})},b=async()=>{u="route",await p.push({name:"preview-map",query:{departureLng:a.value.department.positionLongitude,departureLat:a.value.department.positionLatitude,arriveLng:a.value.apartment.positionLongitude,arriveLat:a.value.apartment.positionLatitude,queryType:u}})},k=async()=>{u="line",await p.push({name:"preview-map",query:{departureLng:a.value.apartment.positionLongitude,departureLat:a.value.apartment.positionLatitude,queryType:u}})};return(l,s)=>{const B=T,i=x,n=D,m=F,c=q,N=C;return E(),G("div",A,[e(B,{title:"我的住宿信息","left-text":"返回","left-arrow":"",onClickLeft:s[0]||(s[0]=v=>I(p).go(-1))}),e(N,{style:{"margin-top":"5%"}},{default:t(()=>[e(m,{inset:""},{default:t(()=>[e(i,null,{default:t(()=>[o(" 我的公寓 ")]),_:1}),e(i,{"is-link":"",onClick:k},{default:t(()=>[e(n,null,{default:t(()=>[o(" 公寓名称: "+r(a.value.apartment.name),1)]),_:1}),e(n,null,{default:t(()=>[o(" 公寓地点: "+r(a.value.apartment.position),1)]),_:1})]),_:1})]),_:1}),e(m,{inset:""},{default:t(()=>[e(i,null,{default:t(()=>[o(" 我的房间 ")]),_:1}),e(i,null,{default:t(()=>[e(n,null,{default:t(()=>[o(" 房间名称: "+r(a.value.room.name),1)]),_:1}),e(n,null,{default:t(()=>[o(" 每月总费用: "+r(a.value.room.totalFee),1)]),_:1}),e(n,null,{default:t(()=>[o(" 您的房费: "+r(g()),1)]),_:1}),e(n,null,{default:t(()=>[o(" 您的网费: "+r(L()),1)]),_:1})]),_:1})]),_:1}),e(m,{inset:""},{default:t(()=>[e(i,null,{default:t(()=>[o(" 我的床位 ")]),_:1}),e(i,null,{default:t(()=>[e(n,null,{default:t(()=>[o(" 床位名称: "+r(a.value.bed.name),1)]),_:1}),e(n,null,{default:t(()=>[o(" 押金序列号: "+r(a.value.bed.receiptId),1)]),_:1})]),_:1})]),_:1}),P("div",K,[e(c,{plain:"",block:"",type:"primary",onClick:s[1]||(s[1]=v=>w())},{default:t(()=>[o(" 查看上班驾车导航 ")]),_:1}),e(c,{plain:"",block:"",type:"primary",onClick:s[2]||(s[2]=v=>b())},{default:t(()=>[o(" 查看下班驾车导航 ")]),_:1})])]),_:1})])}}},re=$(W,[["__scopeId","data-v-d4cad34c"]]);export{re as default};
