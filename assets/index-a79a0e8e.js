import{a as r}from"./axios-4a70c6fc.js";import{a as t}from"./js-cookie-edb2da2a.js";import{s as o}from"./vant-70475d99.js";import{r as n}from"./index-affbebf5.js";const a=r.create({baseURL:"https://apartment-server.wangminan.me"});a.interceptors.request.use(e=>(t.get("token")!==void 0&&(e.headers.Authorization="Bearer "+t.get("token")),e),e=>Promise.reject(e));a.interceptors.response.use(e=>(e!==null&&e.data!==null&&e.data.code!==null&&(e.data.code===4012||e.data.code===4010||e.data.code===4030)&&(t.remove("token"),o({type:"danger",message:"登录过期，将跳转至登录页"}),setTimeout(async()=>{await n.push("/login")},3e3)),e),e=>Promise.reject(e));export{a as _};
